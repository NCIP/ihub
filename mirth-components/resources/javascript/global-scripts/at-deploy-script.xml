// This script executes once when the mule engine is started
// You only have access to the globalMap here to persist data

globalMap.put("delegation.certificate.file.path","@delegation.certificate.file.path@");
globalMap.put("delegation.key.file.path","@delegation.key.file.path@");
globalMap.put("user.proxy.cache.time.to.live",600);
globalMap.put("coppa.mirth.delegation.certificate.file.path","@coppa.mirth.delegation.certificate.file.path@");
globalMap.put("coppa.mirth.delegation.key.file.path","@coppa.mirth.delegation.key.file.path@");

globalMap.put("caAERS.REGISTER_SUBJECT.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-caaers/services/cagrid/RegistrationConsumer");
globalMap.put("CTOM.REGISTER_SUBJECT.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-ctods/services/cagrid/RegistrationConsumer");
globalMap.put("PSC.REGISTER_SUBJECT.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-psc/services/cagrid/RegistrationConsumer");
globalMap.put("C3D.REGISTER_SUBJECT.url","@c3d.registration.url@");
globalMap.put("MEDIDATA_RAVE.REGISTER_SUBJECT.url","@medidata.rave.registration.url@");
globalMap.put("MEDIDATA_RAVE.REGISTER_SUBJECT.username","@medidata.rave.registration.username@");
globalMap.put("MEDIDATA_RAVE.REGISTER_SUBJECT.password","@medidata.rave.registration.password@");
globalMap.put("MEDIDATA_RAVE.REGISTER_SUBJECT.timeout","@medidata.rave.registration.timeout@");
globalMap.put("REGISTER_SUBJECT.namespace","gme://ccts.cabig/1.0/gov.nih.nci.cabig.ccts.domain");
//UPDATE THE COUNT IF THE DESTINATION BROADCAST COUNT IS CHANGED FROM DEFAULT
globalMap.put("REGISTER_SUBJECT.active.destination.count",4);

globalMap.put("caAERS.STUDY_CREATION.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-caaers/services/cagrid/StudyConsumer");
globalMap.put("CTOM.STUDY_CREATION.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-ctods/services/cagrid/StudyConsumer");
globalMap.put("PSC.STUDY_CREATION.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-psc/services/cagrid/StudyConsumer");
globalMap.put("STUDY_CREATION.namespace","gme://ccts.cabig/1.0/gov.nih.nci.cabig.ccts.domain");
//UPDATE THE COUNT IF THE DESTINATION BROADCAST COUNT IS CHANGED FROM DEFAULT
globalMap.put("STUDY_CREATION.active.destination.count",3);

globalMap.put("PSC.SCHEDULE_MODIFICATION.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-psc/services/cagrid/AdverseEventConsumer");
globalMap.put("SCHEDULE_MODIFICATION.namespace","gme://ccts.cabig/1.0/gov.nih.nci.cabig.ccts.ae.domain");
globalMap.put("SCHEDULE_MODIFICATION.active.destination.count",1);

globalMap.put("caAERS.LAB_BASED_AE.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-caaers/services/cagrid/LabConsumerService");
globalMap.put("LAB_BASED_AE.namespace","gme://ccts.cabig/1.0/gov.nih.nci.cabig.ccts.domain.loadlabs");
globalMap.put("LAB_BASED_AE.active.destination.count",1);

globalMap.put("C3D.LOAD_LAB_TO_CDMS.url","@load.lab.url@");
globalMap.put("MEDIDATA_RAVE.LOAD_LAB_TO_CDMS.url","@medidata.rave.datacapture.url@");
globalMap.put("MEDIDATA_RAVE.LOAD_LAB_TO_CDMS.username","@medidata.rave.datacapture.username@");
globalMap.put("MEDIDATA_RAVE.LOAD_LAB_TO_CDMS.password","@medidata.rave.datacapture.password@");
globalMap.put("MEDIDATA_RAVE.LOAD_LAB_TO_CDMS.timeout","@medidata.rave.datacapture.timeout@");
globalMap.put("LOAD_LAB_TO_CDMS.namespace","gme://ccts.cabig/1.0/gov.nih.nci.cabig.ccts.domain.loadlabs");
globalMap.put("LOAD_LAB_TO_CDMS.active.destination.count",1);

globalMap.put("CTOM.CT_LAB_DATA.url","@suite.gridsvc.protocol@://@suite.gridsvc.host@:@suite.gridsvc.port@/wsrf-ctods/services/cagrid/LabLoader");
globalMap.put("CT_LAB_DATA.active.destination.count",1);

// PO services
globalMap.put("PERSON.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/Person");
globalMap.put("ORGANIZATION.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/Organization");
globalMap.put("CLINICAL_RESEARCH_STAFF.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/ClinicalResearchStaff");
globalMap.put("IDENTIFIED_ORGANIZATION.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/IdentifiedOrganization");
globalMap.put("HEALTH_CARE_PROVIDER.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/HealthCareProvider");
globalMap.put("HEALTH_CARE_FACILITY.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/HealthCareFacility");
globalMap.put("IDENTIFIED_PERSON.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/IdentifiedPerson");
globalMap.put("OVERSIGHT_COMMITTEE.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/OversightCommittee");
globalMap.put("ORGANIZATIONAL_CONTACT.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/OrganizationalContact");
globalMap.put("RESEARCH_ORGANIZATION.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/ResearchOrganization");
globalMap.put("PO_BUSINESS.url","@coppa.services.po.protocol@://@coppa.services.po.host@:@coppa.services.po.port@/wsrf/services/cagrid/Business");

// PA services
globalMap.put("STUDY_PROTOCOL.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyProtocolService");
globalMap.put("ARM.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/ArmService");
//need clarification on study_participation, since client is not available and not configured in servicemix based iHub
//globalMap.put("STUDY_PARTICIPATION.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyParticipationService");
globalMap.put("STUDY_SITE.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudySiteService");
globalMap.put("PLANNED_ACTIVITY.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/PlannedActivityService");
globalMap.put("STUDY_CONTACT.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyContactService");
globalMap.put("STUDY_DISEASE.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyDiseaseService");
globalMap.put("STUDY_OVERALL_STATUS.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyOverallStatusService");
//need clarification on study_participation, since client is not available and not configured in servicemix based iHub
//globalMap.put("STUDY_PARTICIPATION_CONTACT.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyParticipationContactService");
globalMap.put("STUDY_SITE_CONTACT.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudySiteContactService");
globalMap.put("STUDY_RELATIONSHIP.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyRelationshipService");
globalMap.put("STUDY_RESOURCING.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyResourcingService");
globalMap.put("STUDY_IND_IDE.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyIndIdeService");
globalMap.put("STUDY_ONHOLD.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyOnholdService");
globalMap.put("STUDY_OUTCOME_MEASURE.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyOutcomeMeasureService");
globalMap.put("STUDY_RECRUITMENT_STATUS.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyRecruitmentStatusService");
globalMap.put("STUDY_REGULATORY_AUTHORITY.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudyRegulatoryAuthorityService");
globalMap.put("STUDY_SITE_ACCRUAL_STATUS.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/StudySiteAccrualStatusService");
globalMap.put("DOCUMENT.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/DocumentService");
globalMap.put("DOCUMENT_WORKFLOW_STATUS.url","@coppa.services.pa.protocol@://@coppa.services.pa.host@:@coppa.services.pa.port@/wsrf/services/cagrid/DocumentWorkflowStatusService");

globalMap.put("target.grid.service.retry.attempts",3);

globalMap.put("mirth.http.listener.user.tomcat","@mirth.http.listener.user@");
globalMap.put("mirth.http.listener.password.tomcat","@mirth.http.listener.password@");

// #########  ACTIVE MQ PROPERTIES - NEED NOT BE TOKENIZED SINCE CHANNELS CANNOT GET THESE VALUES USING VARIABLES ##########
// dynamic support is available in a future release when iHub migrates to Mirth Connect 2.x.
//globalMap.put("amq.ihub.host","localhost");
//globalMap.put("amq.ihub.port","61616");

// #########  DATABASE PROPERTIES ##########
globalMap.put("database.driver","@database.driver@");
globalMap.put("database.url","@database.url@");
globalMap.put("database.username","@database.username@");
globalMap.put("database.password","@database.password@");

globalMap.put("gme.service.url","@gme.service.url@");
globalMap.put("gme.cache.directory","@gme.cache.directory@");

// ######## COPPA CAGRID PROPERTIES ##########
globalMap.put("coppa.authentication.user", "@coppa.authentication.user@");
globalMap.put("coppa.authentication.password", "@coppa.authentication.password@");
globalMap.put("coppa.authentication.url", "@coppa.authentication.url@");
globalMap.put("coppa.dorian.url", "@coppa.dorian.url@");

return;
