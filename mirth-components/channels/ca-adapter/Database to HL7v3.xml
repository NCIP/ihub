<com.webreach.mirth.model.Channel>
  <id>d42931fd-8269-433c-874e-2caeea9f9e4b</id>
  <name>TS Delimited to HL7v3</name>
  <description></description>
  <enabled>true</enabled>
  <version>1.8.2</version>
  <lastModified>
    <time>1288815508031</time>
    <timezone>America/New_York</timezone>
  </lastModified>
  <revision>41</revision>
  <sourceConnector>
    <name>sourceConnector</name>
    <properties>
      <property name="DataType">Channel Reader</property>
    </properties>
    <transformer>
      <steps>
        <com.webreach.mirth.model.Step>
          <sequenceNumber>0</sequenceNumber>
          <name>metadata_uid</name>
          <script>var mapping;try { mapping = msg[&apos;row&apos;][&apos;column1&apos;].toString(); }catch (e) { logger.error(e);  mapping = &apos;&apos;;}channelMap.put(&apos;metadata_uid&apos;, validate( mapping , &apos;&apos;, new Array()));</script>
          <type>Mapper</type>
          <data class="map">
            <entry>
              <string>Mapping</string>
              <string>msg[&apos;row&apos;][&apos;column1&apos;].toString()</string>
            </entry>
            <entry>
              <string>Variable</string>
              <string>metadata_uid</string>
            </entry>
            <entry>
              <string>RegularExpressions</string>
              <list/>
            </entry>
            <entry>
              <string>DefaultValue</string>
              <string></string>
            </entry>
            <entry>
              <string>isGlobal</string>
              <string>channel</string>
            </entry>
          </data>
        </com.webreach.mirth.model.Step>
      </steps>
      <inboundTemplate>66b20b26-dc51-11df-9972-ddc780619c0d,Santosh,Giambi,08/20/1968,Male,Duke</inboundTemplate>
      <outboundTemplate></outboundTemplate>
      <inboundProtocol>DELIMITED</inboundProtocol>
      <outboundProtocol>DELIMITED</outboundProtocol>
      <inboundProperties/>
      <outboundProperties>
        <property name="columnWidths"></property>
        <property name="recordDelimiter">\n</property>
        <property name="escapeWithDoubleQuote">true</property>
        <property name="numberedRows">false</property>
        <property name="batchSkipRecords">0</property>
        <property name="quoteChar">&quot;</property>
        <property name="ignoreCR">true</property>
        <property name="batchMessageDelimiter"></property>
        <property name="batchGroupingColumn"></property>
        <property name="batchMessageDelimiterIncluded">false</property>
        <property name="columnNames"></property>
        <property name="batchSplitByRecord">true</property>
        <property name="batchScript"></property>
        <property name="columnDelimiter">,</property>
        <property name="quoteEscapeChar">\</property>
      </outboundProperties>
    </transformer>
    <filter>
      <rules/>
    </filter>
    <transportName>Channel Reader</transportName>
    <mode>SOURCE</mode>
    <enabled>true</enabled>
  </sourceConnector>
  <destinationConnectors>
    <com.webreach.mirth.model.Connector>
      <name>Channel Writer</name>
      <properties>
        <property name="script">//globalMap.put(&apos;TransformedData&apos;, messageObject.getEncodedData());
globalMap.put($(&apos;metadata_uid&apos;), messageObject.getEncodedData());</property>
        <property name="DataType">JavaScript Writer</property>
        <property name="host">sink</property>
      </properties>
      <transformer>
        <steps>
          <com.webreach.mirth.model.Step>
            <sequenceNumber>0</sequenceNumber>
            <name>patientPerson - name - given (out)</name>
            <script>tmp[&apos;patientPerson&apos;][&apos;name&apos;][&apos;given&apos;] = validate(msg[&apos;row&apos;][&apos;column2&apos;].toString(), &apos;&apos;, new Array());</script>
            <type>Message Builder</type>
            <data class="map">
              <entry>
                <string>Mapping</string>
                <string>msg[&apos;row&apos;][&apos;column2&apos;].toString()</string>
              </entry>
              <entry>
                <string>Variable</string>
                <string>tmp[&apos;patientPerson&apos;][&apos;name&apos;][&apos;given&apos;]</string>
              </entry>
              <entry>
                <string>RegularExpressions</string>
                <list/>
              </entry>
              <entry>
                <string>DefaultValue</string>
                <string></string>
              </entry>
            </data>
          </com.webreach.mirth.model.Step>
          <com.webreach.mirth.model.Step>
            <sequenceNumber>1</sequenceNumber>
            <name>patientPerson - name - family (out)</name>
            <script>tmp[&apos;patientPerson&apos;][&apos;name&apos;][&apos;family&apos;] = validate(msg[&apos;row&apos;][&apos;column3&apos;].toString(), &apos;&apos;, new Array());</script>
            <type>Message Builder</type>
            <data class="map">
              <entry>
                <string>Mapping</string>
                <string>msg[&apos;row&apos;][&apos;column3&apos;].toString()</string>
              </entry>
              <entry>
                <string>Variable</string>
                <string>tmp[&apos;patientPerson&apos;][&apos;name&apos;][&apos;family&apos;]</string>
              </entry>
              <entry>
                <string>RegularExpressions</string>
                <list/>
              </entry>
              <entry>
                <string>DefaultValue</string>
                <string></string>
              </entry>
            </data>
          </com.webreach.mirth.model.Step>
          <com.webreach.mirth.model.Step>
            <sequenceNumber>2</sequenceNumber>
            <name>patientPerson - birthTime - @value (out)</name>
            <script>tmp[&apos;patientPerson&apos;][&apos;birthTime&apos;][&apos;@value&apos;] = validate(msg[&apos;row&apos;][&apos;column4&apos;].toString(), &apos;&apos;, new Array());</script>
            <type>Message Builder</type>
            <data class="map">
              <entry>
                <string>Mapping</string>
                <string>msg[&apos;row&apos;][&apos;column4&apos;].toString()</string>
              </entry>
              <entry>
                <string>Variable</string>
                <string>tmp[&apos;patientPerson&apos;][&apos;birthTime&apos;][&apos;@value&apos;]</string>
              </entry>
              <entry>
                <string>RegularExpressions</string>
                <list/>
              </entry>
              <entry>
                <string>DefaultValue</string>
                <string></string>
              </entry>
            </data>
          </com.webreach.mirth.model.Step>
          <com.webreach.mirth.model.Step>
            <sequenceNumber>3</sequenceNumber>
            <name>patientPerson - administrativeGenderCode - @code (out)</name>
            <script>tmp[&apos;patientPerson&apos;][&apos;administrativeGenderCode&apos;][&apos;@code&apos;] = validate(msg[&apos;row&apos;][&apos;column5&apos;].toString(), &apos;&apos;, new Array());</script>
            <type>Message Builder</type>
            <data class="map">
              <entry>
                <string>Mapping</string>
                <string>msg[&apos;row&apos;][&apos;column5&apos;].toString()</string>
              </entry>
              <entry>
                <string>Variable</string>
                <string>tmp[&apos;patientPerson&apos;][&apos;administrativeGenderCode&apos;][&apos;@code&apos;]</string>
              </entry>
              <entry>
                <string>RegularExpressions</string>
                <list/>
              </entry>
              <entry>
                <string>DefaultValue</string>
                <string></string>
              </entry>
            </data>
          </com.webreach.mirth.model.Step>
          <com.webreach.mirth.model.Step>
            <sequenceNumber>4</sequenceNumber>
            <name>patientPerson - id - @assigningAuthorityName (out)</name>
            <script>tmp[&apos;patientPerson&apos;][&apos;id&apos;][&apos;@assigningAuthorityName&apos;] = validate(msg[&apos;row&apos;][&apos;column6&apos;].toString(), &apos;&apos;, new Array());</script>
            <type>Message Builder</type>
            <data class="map">
              <entry>
                <string>Mapping</string>
                <string>msg[&apos;row&apos;][&apos;column6&apos;].toString()</string>
              </entry>
              <entry>
                <string>Variable</string>
                <string>tmp[&apos;patientPerson&apos;][&apos;id&apos;][&apos;@assigningAuthorityName&apos;]</string>
              </entry>
              <entry>
                <string>RegularExpressions</string>
                <list/>
              </entry>
              <entry>
                <string>DefaultValue</string>
                <string></string>
              </entry>
            </data>
          </com.webreach.mirth.model.Step>
        </steps>
        <inboundTemplate>Jason,Doe,08/20/1968,Male,NCI</inboundTemplate>
        <outboundTemplate>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Patient xmlns=&quot;urn:hl7-org:v3&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; classCode=&quot;PAT&quot;&gt;
    &lt;id root=&quot;2.16.840.1.113883.3.26.345&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;78127-401&quot;/&gt;
    &lt;statusCode code=&quot;canceled&quot;/&gt;
    &lt;patientPerson classCode=&quot;PSN&quot; determinerCode=&quot;INSTANCE&quot;&gt;
        &lt;id root=&quot;2.16.840.1.113883.3.26.359&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;77367-722&quot;/&gt;
        &lt;name use=&quot;L&quot;&gt;
            &lt;given&gt;Telson&lt;/given&gt;
            &lt;family&gt;Nolan&lt;/family&gt;
        &lt;/name&gt;
        &lt;administrativeGenderCode code=&quot;F&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; displayName=&quot;Female&quot;/&gt;
        &lt;birthTime value=&quot;20100209121833&quot;/&gt;
        &lt;birthPlace classCode=&quot;BIRTHPL&quot;&gt;
            &lt;addr&gt;
                &lt;state&gt;MD&lt;/state&gt;
                &lt;streetName&gt;Durham St.&lt;/streetName&gt;
                &lt;city&gt;Rockville&lt;/city&gt;
                &lt;streetAddressLine&gt;96696&lt;/streetAddressLine&gt;
            &lt;/addr&gt;
            &lt;subjectOf typeCode=&quot;SBJ&quot;&gt;
                &lt;position classCode=&quot;POS&quot; moodCode=&quot;EVN&quot;&gt;
                    &lt;id root=&quot;2.16.840.1.113883.3.26.756&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;49579-417&quot;/&gt;
                    &lt;code code=&quot;NoData&quot; codeSystemName=&quot;PositionObservationCode&quot; codeSystem=&quot;2.16.840.1.113883.19.99999&quot; displayName=&quot;Domain not found&quot;/&gt;
                    &lt;text representation=&quot;TXT&quot; mediaType=&quot;text/plain&quot; integrityCheckAlgorithm=&quot;SHA-1&quot;&gt;This is a sample text for test data generating...&lt;/text&gt;
                    &lt;effectiveTime operator=&quot;I&quot; value=&quot;20100209121834&quot;/&gt;
                    &lt;activityTime operator=&quot;I&quot; value=&quot;20100209121834&quot;/&gt;
                    &lt;value&gt;This is Sample text for test 346&lt;/value&gt;
                &lt;/position&gt;
            &lt;/subjectOf&gt;
        &lt;/birthPlace&gt;
    &lt;/patientPerson&gt;
    &lt;providerOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
        &lt;id root=&quot;2.16.840.1.113883.3.26.667&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;49495-468&quot;/&gt;
        &lt;code code=&quot;PACKT&quot; codeSystemName=&quot;EntityCode&quot; codeSystem=&quot;2.16.840.1.113883.5.1060&quot; displayName=&quot;Packet&quot;/&gt;
        &lt;name use=&quot;L&quot;&gt;Time Def Ltd. Co.&lt;/name&gt;
        &lt;contactParty classCode=&quot;CON&quot;&gt;
            &lt;id root=&quot;2.16.840.1.113883.3.26.744&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;17652-001&quot;/&gt;
            &lt;code code=&quot;ERROR&quot; codeSystemName=&quot;ERROR&quot; codeSystem=&quot;ERROR&quot; displayName=&quot;ERROR&quot;/&gt;
            &lt;addr&gt;
                &lt;state&gt;MD&lt;/state&gt;
                &lt;county&gt;Montgomery&lt;/county&gt;
                &lt;streetName&gt;Durham St.&lt;/streetName&gt;
                &lt;city&gt;Rockville&lt;/city&gt;
                &lt;postalCode&gt;23456&lt;/postalCode&gt;
                &lt;streetAddressLine&gt;95288&lt;/streetAddressLine&gt;
            &lt;/addr&gt;
            &lt;telecom use=&quot;HP&quot; value=&quot;tel:1-925-568-3373&quot;/&gt;
            &lt;contactPerson classCode=&quot;PSN&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;name use=&quot;L&quot;&gt;Gordon P. Saxton&lt;/name&gt;
            &lt;/contactPerson&gt;
        &lt;/contactParty&gt;
        &lt;contactParty classCode=&quot;CON&quot;&gt;
            &lt;id root=&quot;2.16.840.1.113883.3.26.744&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;17652-002&quot;/&gt;
            &lt;code code=&quot;ERROR&quot; codeSystemName=&quot;ERROR&quot; codeSystem=&quot;ERROR&quot; displayName=&quot;ERROR&quot;/&gt;
            &lt;addr&gt;
                &lt;state&gt;MD&lt;/state&gt;
                &lt;streetName&gt;Durham St.&lt;/streetName&gt;
                &lt;city&gt;Rockville&lt;/city&gt;
                &lt;postalCode&gt;24680&lt;/postalCode&gt;
                &lt;streetAddressLine&gt;95288&lt;/streetAddressLine&gt;
            &lt;/addr&gt;
            &lt;telecom use=&quot;HP&quot; value=&quot;tel:1-925-568-3373&quot;/&gt;
            &lt;contactPerson classCode=&quot;PSN&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;name use=&quot;L&quot;&gt;Gordon P. Saxton&lt;/name&gt;
            &lt;/contactPerson&gt;
        &lt;/contactParty&gt;
        &lt;contactParty classCode=&quot;CON&quot;&gt;
            &lt;id root=&quot;2.16.840.1.113883.3.26.744&quot; assigningAuthorityName=&quot;NCI&quot; extension=&quot;17652-003&quot;/&gt;
            &lt;code code=&quot;ERROR&quot; codeSystemName=&quot;ERROR&quot; codeSystem=&quot;ERROR&quot; displayName=&quot;ERROR&quot;/&gt;
            &lt;addr&gt;
                &lt;state&gt;MD&lt;/state&gt;
                &lt;county&gt;Montgomery&lt;/county&gt;
                &lt;streetName&gt;Durham St.&lt;/streetName&gt;
                &lt;city&gt;Rockville&lt;/city&gt;
                &lt;postalCode&gt;23456&lt;/postalCode&gt;
                &lt;streetAddressLine&gt;95288&lt;/streetAddressLine&gt;
            &lt;/addr&gt;
            &lt;telecom use=&quot;HP&quot; value=&quot;tel:1-925-568-3373&quot;/&gt;
            &lt;contactPerson classCode=&quot;PSN&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;name use=&quot;L&quot;&gt;Gordon P. Saxton&lt;/name&gt;
            &lt;/contactPerson&gt;
        &lt;/contactParty&gt;
    &lt;/providerOrganization&gt;
&lt;/Patient&gt;</outboundTemplate>
        <inboundProtocol>DELIMITED</inboundProtocol>
        <outboundProtocol>HL7V3</outboundProtocol>
        <inboundProperties>
          <property name="columnWidths"></property>
          <property name="recordDelimiter">\n</property>
          <property name="escapeWithDoubleQuote">true</property>
          <property name="numberedRows">false</property>
          <property name="batchSkipRecords">0</property>
          <property name="quoteChar">&quot;</property>
          <property name="ignoreCR">true</property>
          <property name="batchMessageDelimiter"></property>
          <property name="batchGroupingColumn"></property>
          <property name="batchMessageDelimiterIncluded">false</property>
          <property name="columnNames"></property>
          <property name="batchSplitByRecord">true</property>
          <property name="batchScript"></property>
          <property name="columnDelimiter">,</property>
          <property name="quoteEscapeChar">\</property>
        </inboundProperties>
        <outboundProperties/>
      </transformer>
      <filter>
        <rules/>
      </filter>
      <transportName>JavaScript Writer</transportName>
      <mode>DESTINATION</mode>
      <enabled>true</enabled>
    </com.webreach.mirth.model.Connector>
  </destinationConnectors>
  <properties>
    <property name="initialState">started</property>
    <property name="synchronous">true</property>
    <property name="store_messages">true</property>
    <property name="encryptData">false</property>
    <property name="transactional">false</property>
    <property name="max_message_age">-1</property>
    <property name="dont_store_filtered">true</property>
    <property name="error_messages_only">false</property>
  </properties>
  <preprocessingScript>// Modify the message variable below to pre process data
return message;</preprocessingScript>
  <postprocessingScript>// This script executes once after a message has been processed
return;</postprocessingScript>
  <deployScript>// This script executes once when the mule engine is started
// You only have access to the globalMap here to persist data
return;</deployScript>
  <shutdownScript>// This script executes once when the mule engine is stopped
// You only have access to the globalMap here to persist data
return;</shutdownScript>
</com.webreach.mirth.model.Channel>